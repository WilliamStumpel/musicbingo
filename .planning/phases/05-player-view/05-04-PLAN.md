---
phase: 05-player-view
plan: 04
type: execute
wave: 3
depends_on: ["05-02"]
files_modified:
  - musicbingo_host/src/components/PatternDisplay.jsx
  - musicbingo_host/src/components/PatternDisplay.css
  - musicbingo_host/src/pages/PlayerView.jsx
autonomous: true
---

<objective>
Add visual pattern display to Player View showing the current winning pattern.

Purpose: Players can see at a glance what pattern they need to complete (5-in-a-row, four corners, X, etc.).
Output: PatternDisplay component showing 5x5 grid with pattern highlighted, integrated into player view footer.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plans
@.planning/phases/05-player-view/05-02-SUMMARY.md

# Pattern definitions
@musicbingo_host/src/components/PatternSelector.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create PatternDisplay component</name>
  <files>musicbingo_host/src/components/PatternDisplay.jsx, musicbingo_host/src/components/PatternDisplay.css</files>
  <action>
Create PatternDisplay component that visualizes bingo patterns:

Props:
- pattern: string (five_in_a_row, four_corners, x_pattern, blackout, frame)
- size: 'small' | 'large' (for host vs player view)

Layout:
- 5x5 CSS Grid representing bingo card
- Pattern cells highlighted (green #1DB954)
- Non-pattern cells dimmed (dark gray)
- Center cell always marked (free space)

Pattern definitions:
```javascript
const PATTERNS = {
  five_in_a_row: {
    label: '5 in a Row',
    // Highlight example row (middle row)
    cells: [[0,2], [1,2], [2,2], [3,2], [4,2]]
  },
  four_corners: {
    label: 'Four Corners',
    cells: [[0,0], [4,0], [0,4], [4,4]]
  },
  x_pattern: {
    label: 'X Pattern',
    cells: [[0,0], [1,1], [2,2], [3,3], [4,4], [4,0], [3,1], [1,3], [0,4]]
  },
  blackout: {
    label: 'Blackout',
    cells: 'all' // All 25 cells
  },
  frame: {
    label: 'Frame',
    cells: 'border' // All edge cells
  }
};
```

Styling for 'large' size (player view):
- Grid cells: 40x40px
- Visible from across room
- Pattern label below grid (24px font)
  </action>
  <verify>PatternDisplay shows correct pattern visualization for each pattern type</verify>
  <done>PatternDisplay component renders all supported patterns correctly</done>
</task>

<task type="auto">
  <name>Task 2: Integrate PatternDisplay into PlayerView footer</name>
  <files>musicbingo_host/src/pages/PlayerView.jsx, musicbingo_host/src/pages/PlayerView.css</files>
  <action>
Add PatternDisplay to PlayerView footer section:

Layout:
- Footer takes ~15% of viewport height
- PatternDisplay centered in footer
- Label: "Current Pattern: [Pattern Name]"
- Use size="large" prop

Footer styling:
- Subtle top border separating from call board
- Pattern display centered
- Label above the grid pattern

Pass currentPattern from game state (already synced via polling).

Responsive:
- On smaller screens, reduce pattern grid size slightly
- Maintain visibility at TV distance
  </action>
  <verify>PlayerView footer shows current pattern visualization</verify>
  <done>Pattern display integrated into player view, syncs with host pattern selection</done>
</task>

<task type="auto">
  <name>Task 3: Add pattern change animation</name>
  <files>musicbingo_host/src/components/PatternDisplay.css</files>
  <action>
Add visual feedback when pattern changes:

Animation:
- Scale up briefly (1.1x) then back to 1x
- Subtle glow pulse on highlighted cells
- Transition: 0.3s ease

On pattern change:
- Container gets 'pattern-changed' class briefly
- CSS handles animation
- Remove class after animation completes

This draws attention when DJ switches patterns between rounds.
  </action>
  <verify>Pattern display animates when pattern changes</verify>
  <done>Pattern changes trigger attention-grabbing animation</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds without errors
- [ ] PatternDisplay shows correct visualization for each pattern
- [ ] PlayerView footer displays current pattern
- [ ] Pattern syncs when host changes it
- [ ] Animation triggers on pattern change
- [ ] Readable at TV distance
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Pattern display shows on player view
- Syncs with host pattern selection
- Phase 5 complete
</success_criteria>

<output>
After completion, create `.planning/phases/05-player-view/05-04-SUMMARY.md`
</output>
