---
phase: 05-player-view
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - musicbingo_host/src/App.js
  - musicbingo_host/src/pages/PlayerView.jsx
  - musicbingo_host/src/pages/PlayerView.css
  - musicbingo_host/package.json
autonomous: true
---

<objective>
Create a separate Player View page for venue TV/projector output via HDMI.

Purpose: Allow DJ to display a full-screen player-facing view on external monitor while controlling from host view.
Output: /player route with full-screen dark layout that syncs game state from API.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase for patterns
@.planning/phases/04-host-view/04-01-SUMMARY.md

# Current implementation
@musicbingo_host/src/App.js
@musicbingo_host/src/hooks/useGameState.js
@musicbingo_host/src/services/gameApi.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add React Router for multi-page navigation</name>
  <files>musicbingo_host/package.json, musicbingo_host/src/index.js, musicbingo_host/src/App.js</files>
  <action>
Install react-router-dom:
```bash
cd musicbingo_host && npm install react-router-dom
```

Update index.js to wrap App with BrowserRouter.

Update App.js to use Routes:
- / route → current host view (HostView component, extract from App.js)
- /player route → PlayerView component (placeholder for now)

Keep all existing App.js logic in a new HostView component.
  </action>
  <verify>npm start works, localhost:3000 shows host view, localhost:3000/player shows placeholder</verify>
  <done>React Router installed, routes working, host view preserved</done>
</task>

<task type="auto">
  <name>Task 2: Create PlayerView page with full-screen dark layout</name>
  <files>musicbingo_host/src/pages/PlayerView.jsx, musicbingo_host/src/pages/PlayerView.css</files>
  <action>
Create pages/ directory and PlayerView component:

Layout:
- Full viewport height/width
- Dark background (#0a0a0a)
- No scrolling (fixed layout)
- CSS Grid: header (game info), main (call board area), footer (pattern display)

Features:
- Load game state from URL param or localStorage (game_id)
- Poll API every 2 seconds for updates (reuse pollGameState pattern)
- Show "No game loaded" if no game selected
- Display game name in header

Styling:
- Large fonts for TV visibility (min 24px base)
- High contrast (white on dark)
- No interactive elements (display only)
  </action>
  <verify>localhost:3000/player shows dark full-screen layout with game state polling</verify>
  <done>PlayerView renders with dark theme and syncs game state via API polling</done>
</task>

<task type="auto">
  <name>Task 3: Add "Open Player View" button to host header</name>
  <files>musicbingo_host/src/pages/HostView.jsx, musicbingo_host/src/pages/HostView.css</files>
  <action>
Add button to host header (next to GameControls):
- "Open Player View" button
- Opens /player in new window: window.open('/player', 'player-view', 'width=1920,height=1080')
- Store current game_id in localStorage so player view can read it
- Button disabled if no game loaded

Style:
- Secondary button style (not primary green)
- Icon: external link or monitor icon (unicode or simple text)
  </action>
  <verify>Clicking button opens new window with player view at correct size</verify>
  <done>Host can open player view in separate window, game_id shared via localStorage</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds without errors
- [ ] Host view works at localhost:3000 (all existing functionality preserved)
- [ ] Player view works at localhost:3000/player
- [ ] Player view shows dark full-screen layout
- [ ] Player view syncs game state from API
- [ ] "Open Player View" button opens new window
- [ ] Game state syncs between host and player windows
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Host and Player views work independently
- Game state syncs via API polling
- Ready for 05-02 (Player Call Board)
</success_criteria>

<output>
After completion, create `.planning/phases/05-player-view/05-01-SUMMARY.md`
</output>
